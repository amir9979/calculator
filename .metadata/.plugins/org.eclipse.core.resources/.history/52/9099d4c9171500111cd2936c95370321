
package calculations.dev.multiplyservice;

import calculations.dev.MultiplyRequest;
import calculations.dev.MultiplyResponse;
import calculations.dev.negateservice.NegateServiceConsumer;
import calculations.dev.sumservice.SumServiceConsumer;

public class MultiplyServiceImpl
    implements MultiplyService
{


    public MultiplyResponse multiply(MultiplyRequest param0) {
    	
        MultiplyResponse response = new MultiplyResponse();    	
    	boolean negate = param.getX() < 0 != param.getY() < 0;
        
    	int total = 0;
    	int x = Math.abs(param.getX());
        int y = Math.abs(param.getY());
        int a = x;
        int b = y;
        
        // Minimize calls
        if(x>y) { 
          a = y;
          b = x;
        }
        
        total = b;
        
    	for(int i = 1; i < a; i++)
    	    total = SumServiceConsumer.sum(total, b);	

        if(negate)
        	total = NegateServiceConsumer.negate(total);
        
        response.setY(total);
        return response;
    }

}
