package dev.log.health;

import java.util.ArrayList;
import java.util.HashMap;

public class Function {
	
	ArrayList<Term> terms;
	
	public Function(ArrayList<Term> terms) {
		this.terms = terms;
	}
	
	public float calculate(HashMap<String,Double> values) {
		
		float result = 1.0f;
		
		for(Term term : terms) {
			result *= term.calculate(values);
		}
		return result;
	}
	
	public float diff(float[] vars, int pos) {
		
		float margin = 0.01f;
		float before = function(vars[0],vars[1]);
		vars[pos] += margin;
		float after = function(vars[0],vars[1]);
		
		return (after-before)/margin;
	}
	
}
